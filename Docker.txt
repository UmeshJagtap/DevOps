//
// Docker
//

Install Docker Engine on Ubuntu :-
https://docs.docker.com/engine/install/ubuntu/


Run -start a container
docker run nginx
--Unable to find image 'nginx:latest' locally

ps -list containers
docker ps
docker ps -a

STOP -stop a container
docker ps
docker stop silly_sammet
docker ps -a

Rm -remove a container
docker rm silly_sammet
docker ps -a

images -List images
docker images

rmi -Remove images
docker rmi nginx

Pull -download an image
docker run nginx
docker pull nginx

docker run ubuntu
docker ps
CONTAINER ID    IMAGE   COMMAND   CREATED   STATUS
docker ps -a
CONTAINER ID    IMAGE   COMMAND     CREATED         STATUS
45aacca3GB50    ubuntu  '/bin/bash  43 seconds ago  Exited (0) 41 seconds ago

Append a command
docker run ubuntu
docker run ubuntu sleep 5

Exec -execute a command
docker ps -a
docker exec distracted_mcclintock cat /etc/hosts

Run -attach and detach
docker run kodekloud/simple-webapp
docker run -d kodekloud/simple-webapp
docker attach a043d


<<-- Demo -->>
docker run -it centos bash
  cat /etc/*release*
  CentOS Linux release 7.3.1 ( Core )

docker run -d centos sleep 20
62b3cd
docker stop serene_pasteur
docker rm d7f5a
docker rm 345 e0a 773

docker images
  busybox
  ubuntu
  centos
  hello-world

docker rmi busybox

docker pull ubuntu
docker images
ubuntu    latest    cc65b1
docker run -d ubuntu sleep 100
docker exec 3a7ca7 cat /etc/*release*



<<-- Accessing the labs -->>
Link: https://udlabs.kodekloud.com/courses/udemy-labs-docker-for-the-absolute-beginner/



<<-- Labs - Basic Docker Commands -->>
labs: https://udlabs.kodekloud.com/topic/labs-basic-docker-commands-beta-5/






Summary : ---------------------<<<<<
docker ps -a

docker run nginx
docker stop silly_sammet
docker rm silly_sammet

docker images
docker rmi nginx
docker run nginx
docker pull nginx
docker run ubuntu sleep 5

docker exec distracted_mcclintock cat /etc/hosts
docker run -d kodekloud/simple-webapp

+++---------------------------------+++

What am i containerizing ?
--Flask

How to create my own image ?
1. OS - Ubuntu
2. Update apt repo
3. Install dependencies using apt
4. Install Python dependencies using pip
5. Copy source code to /apt folder
6. Run the web server using "flask" command

Dockerfile
FORM Ubuntu
RUN apt-get update && apt-get -y install python
RUN pip install flask flask-mysql
COPY . /opt/source-code
ENVIRONMENT FLASK APP-apt/source-code/app.py flask run

docker build . -f Dockerfile -t mmumshad/my-custom-app
docker push mmumshad/my-custom-app    ---->>    Docker Registry





17. Docker Run 
docker run redis
docker run redis:4.0   <-- TAG

RUN-STDIN
$ ./app.sh
Welcome! Please enter your name: Mumshad
Hello and Welcome Mumshad!

docker run kodekloud/simple-prompt-docker 
Hello and Welcome !

docker run kodekloud/simple-prompt-docker 
docker run -i kodekloud/simple-prompt-docker 
Mumshad 
Hello and welcome Mumshad!

docker run -it kodekloud/simple-prompt-docker
Welcome! Please enter your name: Mumshad
Hello and welcome Mumshad!


RUN - PORT mapping
docker run kodekloud/webapp
Running on http://0.0.0.0:5000/ (Press CTRL-C to quit)

docker run -p 80:5000 kodekloud/webapp

where http://172.17.0.2:5000  is [ InternalIP ]

                    ()
                   {  }
                    ||  http://192.168.1.5.80
                    VV
|--------------------------------------------------------------------|
|                 [ 80 ]                                             |
|                   |                                                |
|            |------|   IP: 192.168.1.5                              |
|            |                                                       |
|   |-------------------|                                            |
|   |    [ 5000 ]       |                                            |
|   |  IP: 172.17.0.2   |                                            |
|   |     Web APP       |                                            |
|   | Docker Container  |                                            |
|   |-------------------|                                            |
|                                                                    |
|                  U/-*   Docker Host                                |
|--------------------------------------------------------------------|

Other examples ;-
docker run -p 8000:5000 kodekloud/webapp
docker run -p 8001:5000 kodekloud/webapp
docker run -p 3306:3306 mysql
docker run -p 8306:3306 mysql

NOTE : If same cmd is ran agian :
docker: Error response from daemon: driver failed programming external connectivity on endpoint boring bhabha


RUN - Volume mapping


